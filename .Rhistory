Y = X1 + X2 + eps
X = data.frame(X1 = X1, X2 = X2)
ML = c("Torch")
OLSensemble = c("RF", "XGB")
m <- modest(X,Y,ML = "Torch")
fvs <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
rm(list = ls())
library(devtools)
document()
set.seed(123)
n = 1000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = X1 + X2 + eps
X = data.frame(X1 = X1, X2 = X2)
ML = c("Torch")
OLSensemble = c("RF", "XGB")
m <- modest(X,Y,ML = "Torch")
fvs <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
rm(list = ls())
library(devtools)
document()
set.seed(123)
n = 1000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = X1 + X2 + eps
X = data.frame(X1 = X1, X2 = X2)
ML = c("Torch")
OLSensemble = c("RF", "XGB")
m <- modest(X,Y,ML = "Torch")
fvs <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
mm <- MLest(X, Y, ML = "Torch")
rm(list = ls())
library(devtools)
document()
set.seed(123)
n = 1000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = X1 + X2 + eps
X = data.frame(X1 = X1, X2 = X2)
ML = c("Torch")
OLSensemble = c("RF", "XGB")
m <- modest(X,Y,ML = "Torch")
fvs <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
mm <- MLest(X, Y, ML = "Torch")
rm(list = ls())
library(devtools)
document()
set.seed(123)
n = 1000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = X1 + X2 + eps
X = data.frame(X1 = X1, X2 = X2)
ML = c("Torch")
OLSensemble = c("RF", "XGB")
m <- modest(X,Y,ML = "Torch")
fvs <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
mm <- MLest(X, Y, ML = "Torch")
mcv <- MLtuning(X,Y,ML = c("RF","XGB","Torch"))
mcv <- MLtuning(X,Y,ML = c("RF","XGB","Torch"), mtry = c(1,2))
mcv <- MLtuning(X,Y,ML = c("RF","XGB","Torch"), mtry = c(1,2), verbose = TRUE)
expand.grid(c(1,2),c(3,5,6))
expand.grid(I(list(c(1,2),c(1,4))),c(3,5,6))
class(expand.grid(I(list(c(1,2),c(1,4))),c(3,5,6)))
aaa = expand.grid(I(list(c(1,2),c(1,4))),c(3,5,6))
aaa[1,1]
names(aaa) <- c("A","B")
aaa
aaa$A[[1]]
aaa$B[1]
rm(list = ls())
library(devtools)
document()
set.seed(123)
n = 1000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = X1 + X2 + eps
X = data.frame(X1 = X1, X2 = X2)
ML = c("Torch")
OLSensemble = c("RF", "XGB")
m <- modest(X,Y,ML = "Torch")
fvs <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
mm <- MLest(X, Y, ML = "Torch")
mcv <- MLtuning(X,Y,ML = c("RF","XGB","Torch"), mtry = c(1,2), verbose = TRUE)
mt = MLtuning(X,Y, ML = ML, OLSensemble = OLSensemble,
mtry.grid = 1, Kcv = 2, verbose = TRUE)
mcv$best.across.ml
mcv$results
mcv$results_best
rm(list = ls())
library(devtools)
document()
set.seed(123)
n = 1000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = X1 + X2 + eps
X = data.frame(X1 = X1, X2 = X2)
ML = c("Torch")
OLSensemble = c("RF", "XGB")
# m <- modest(X,Y,ML = "Torch")
#
# fvs <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
mm <- MLest(X, Y, ML = "Torch")
m <- mm$model
fvs <- mm$FVs
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
set.seed(1)
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
set.seed(1)
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
set.seed(1)
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
set.seed(1)
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
set.seed(1)
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
set.seed(1)
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
set.seed(1)
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
set.seed(1)
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
rm(list = ls())
library(devtools)
document()
set.seed(123)
n = 1000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = X1 + X2 + eps
X = data.frame(X1 = X1, X2 = X2)
ML = c("Torch")
OLSensemble = c("RF", "XGB")
# m <- modest(X,Y,ML = "Torch")
#
# fvs <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
mm <- MLest(X, Y, ML = "Torch")
m <- mm$model
fvs <- mm$FVs
aa <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
bb <- FVest(m,X,Y,X[1:5,], Y, ML = "Torch")
aa <- FVest(m,X,Y,X[4:6,], Y, ML = "Torch")
fvs[4:6]
Y = runif(n)
rm(list = ls())
library(DescTools)
n = 500
Y = runif(n)
Gini(Y)
GY = Gini(Y)
sapply(1:n1, function(u){
sum(abs(Y[i] - Y[j]) - GY)
})
n1 = n -1
sapply(1:n1, function(u){
j1 <- i + 1
sum(abs(Y[u] - Y[j1:n]) - GY)
})
sapply(1:n1, function(u){
j1 <- u + 1
sum(abs(Y[u] - Y[j1:n]) - GY)
})
jt <- sapply(1:n1, function(u){
j1 <- u + 1
sum(abs(Y[u] - Y[j1:n]) - GY)
})
se <- (1/n1)*sum(jt^2)
rm(list = ls())
library(DescTools)
n = 500
Y = runif(n)
GY = Gini(Y)
n1 = n -1
jt <- sapply(1:n1, function(u){
j1 <- u + 1
(1/n1)*sum(abs(Y[u] - Y[j1:n]) - GY)
})
se <- (1/n)*sum(jt^2)
rm(list = ls())
library(DescTools)
n = 500
R = 200
tr = 1/3
sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
n1 = n -1
jt <- sapply(1:n1, function(u){
j1 <- u + 1
(1/n1)*sum(abs(Y[u] - Y[j1:n]) - GY)
})
se <- (1/n)*sum(jt^2)
cov = abs(GY - tr)/se >= 1.96
data.frame(GY = GY, se = se, cov = cov)
})
rm(list = ls())
library(DescTools)
n = 500
R = 200
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
n1 = n -1
jt <- sapply(1:n1, function(u){
j1 <- u + 1
(1/n1)*sum(abs(Y[u] - Y[j1:n]) - GY)
})
se <- (1/n)*sum(jt^2)
cov = abs(GY - tr)/se >= 1.96
data.frame(GY = GY, se = se, cov = cov)
})
View(mc)
rowMeans(mc)
rowMeans(as.datat.frame(mc))
rowMeans(as.data.frame(mc))
mc[1,]
?sapply
rm(list = ls())
library(DescTools)
n = 500
R = 200
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
n1 = n -1
jt <- sapply(1:n1, function(u){
j1 <- u + 1
(1/n1)*sum(abs(Y[u] - Y[j1:n]) - GY)
})
se <- (1/n)*sum(jt^2)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = cov)
})
aa = as.data.frame(mc)
View(aa)
rowMeans(aa)
rm(list = ls())
library(DescTools)
n = 500
R = 500
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
n1 = n -1
jt <- sapply(1:n1, function(u){
j1 <- u + 1
(1/n1)*sum(abs(Y[u] - Y[j1:n]) - GY)
})
se <- (1/n)*sum(jt^2)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 500
R = 500
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
n1 = n -1
jt <- sapply(1:n1, function(u){
(1/n1)*sum(abs(Y[u] - Y[-u]) - GY)
})
se <- (1/n)*sum(jt^2)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 500
R = 500
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
n1 = n -1
jt <- sapply(1:n1, function(u){
(1/n1)*sum(abs(Y[u] - Y[-u]) - GY)
})
se <- (1/n)*sum(jt^2)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 500
R = 500
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/n1)*sum(abs(Y[u] - Y[-u]) - GY)
})
se <- (1/n)*sum(jt^2)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
rm(list = ls())
library(DescTools)
n = 500
R = 500
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(abs(Y[u] - Y[-u]) - GY)
})
se <- (1/n)*sum(jt^2)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 500
R = 500
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(abs(Y[u] - Y[-u]) - GY)
})
se <- sqrt((1/n)*sum(jt^2))/sqrt(n)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 500
R = 500
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(abs(Y[u] - Y[-u]) - GY)
})
se <- sqrt((4/n)*sum(jt^2))/sqrt(n)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 500
R = 500
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(abs(Y[u] - Y[-u]) - GY)
})
V <- (4/n)*sum(jt^2)
se <- sqrt(V/n)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 500
R = 1000
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(abs(Y[u] - Y[-u]) - GY)
})
V <- (4/n)*sum(jt^2)
se <- sqrt(V/n)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 1000
R = 1000
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(abs(Y[u] - Y[-u]) - GY)
})
V <- (4/n)*sum(jt^2)
se <- sqrt(V/n)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 1000
R = 1000
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(GY*(Y[u] + Y[-u]) - abs(Y[u] - Y[-u]))
})
S <- sum(jt^2)
B <- 2*mean(Y)
S = (4/n)*S
V = (1/B^2)*S
se = sqrt(V/n)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 500
R = 1000
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(GY*(Y[u] + Y[-u]) - abs(Y[u] - Y[-u]))
})
S <- sum(jt^2)
B <- 2*mean(Y)
S = (4/n)*S
V = (1/B^2)*S
se = sqrt(V/n)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 500
R = 1000
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(GY*(Y[u] + Y[-u]) - abs(Y[u] - Y[-u]))
})
S <- sum(jt^2)
B <- 2*mean(Y)
S = (4/n)*S
V = (1/B^2)*S
se = sqrt(V/n)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
rm(list = ls())
library(DescTools)
n = 100
R = 100
tr = 1/3
mc <- sapply(1:R, function(r){
Y = runif(n)
GY = Gini(Y)
jt <- sapply(1:n, function(u){
(1/(n-1))*sum(GY*(Y[u] + Y[-u]) - abs(Y[u] - Y[-u]))
})
S <- sum(jt^2)
B <- 2*mean(Y)
S = (4/n)*S
V = (1/B^2)*S
se = sqrt(V/n)
cov = abs(GY - tr)/se >= 1.96
c(GY = GY, se = se, cov = 1 - cov)
})
mc <- as.data.frame(mc)
rowMeans(mc)
