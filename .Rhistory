class(X)
colnames(X)
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
colnames(X)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
colnames(X)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
X= X[,-1]
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,-1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
rm(list = ls())
library(devtools)
document()
set.seed(1)
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,-1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,-1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,-1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
aa = Xnew
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,-1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,-1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,-1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
str(Xnew)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,-1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
View(Xnew)
model$m$formula()
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,1]
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
View(Xnew)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= X[,1]
ML = c("NLLS_exp")
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
Xnew = data.frame(Xnew)
View(Xnew)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
View(X)
View(X)
mm = MLest(X,Y,ML=ML, cf.depth = 2, mtry = 2, rf.cf.ntree = 50)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
View(Xnew)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
hist(fvs)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
View(Xnew)
class(Xnew)
nrow(data.frame(Xnew))  # Likely gives 5000 (or 10000)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
model$m$predict()
model$m$predict()[1:10]
all.vars(model$m$call)
model$m$getAllPars()
names(Xnew)
names(X)
all.vars(formula(model))
colnames(model$m$gradient())
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
colnames(Xnew)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
colnames(X)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
names(Xnew) = c("(Intercept)", "X...1.")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,X[1:10,],Y[1:10],ML = ML)
colnames(Xnew)
names(Xnew)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
names(X)
names(X)
data.frame(X[1:10,])
fvs = FVest(m,X,Y,data.frame(X[1:10,,drop = FALSE]),Y[1:10],ML = ML)
colnames(X)
names(X)
names(Xnew)
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,data.frame(X[1:10,,drop = FALSE]),Y[1:10],ML = ML)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
names(X)
names(Xnew)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
names(Xnew)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,-1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
FVs
length(FVs)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1)
X= data.frame(X[,-1])
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1,"a-b" = X2)
ML = c("NLLS_exp")
View(X)
rnorm(3)
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1,"a-b" = X2)
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
rm(list = ls())
rm(list = ls())
library(devtools)
document()
set.seed(1)
n = 5000
X1 = rnorm(n)
X2 = rnorm(n)
eps = rnorm(n)
Y = exp(1 + X1 + X2 + eps)
X = data.frame(X1 = X1,"a-b" = X2)
ML = c("NLLS_exp")
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
mcv <- MLtuning(X,Y,ML = ML, polynomial.loglin.grid = c(1,2), verbose = TRUE)
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
mcv <- MLtuning(X,Y,ML = ML, polynomial.loglin.grid = c(1,2), verbose = TRUE)
mcv$results_best
fvs = as.numeric(mcv$best.fvs.across.ml)
var(fvs)
m = modest(X,Y,ML=ML, cf.depth = 2, mtry = 1, rf.cf.ntree = 50, polynomial.Lasso = 2)
fvs = FVest(m,X,Y,data.frame(X[1:10,]),Y[1:10],ML = ML)
fvs = FVest(m,X,Y,X,Y,ML = ML)
# Load required library
library(ggplot2)
library(dplyr)
fvs0 = exp(1 + X1 + X2)
dfpl = data.frame(fvs0 = fvs0, fvs = fvs)
# Order the data by fvs0
dfpl <- dfpl %>%
arrange(fvs0) %>%
mutate(index = row_number())
# Create the ggplot
ggplot(dfpl, aes(x = index)) +
geom_line(aes(y = fvs0, color = "fvs0"), size = 1) +
geom_line(aes(y = fvs, color = "fvs"), size = 1) +
labs(title = "Ordered Data Plot",
x = "Index",
y = "Values",
color = "Legend") +
theme_minimal()
# sign accuracy
n1 = n-1
sgnacc <- sapply(1:n1, function(uu){
uu1 <- uu + 1
aaa = (fvs[uu] > fvs[uu1:n]) - (fvs[uu] < fvs[uu1:n]) !=
(fvs0[uu] > fvs0[uu1:n]) - (fvs0[uu] < fvs0[uu1:n])
})
mean(unlist(sgnacc))
